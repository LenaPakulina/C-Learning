# Мониторинг стоимости поездок в Яндекс Такси

Каждый современный человек стремиться к комфорту и уюту. И как правило, способ передвижения из одного места в другое – это достаточно важное и частое действие. А одним из наиболее распространённых и востребованных решений современного рынка сегодня считается возможность воспользоваться услугами такси. Такой способ позволяет добраться до места назначения быстро и просто, без проблем и забот.

С другой стороны, так получается, что без мифов нормальное общество не живет, миф — это попытка привести тяжелый и противоречивый мир в состояние гармонии. И сфера вызова такси не стала исключением. 
Многие уверены: 
1. Стоимость на такси зависит от заряда батареи
2. Цена такси на Iphone больше, чем на Android
3. Повышенного спроса не существует

Рассмотрим правдоподобность этих пунктов. 

## Функциональность программы

Программа по заданным координатам (начала, конца) получает стоимость поездки, заносит данные в базу данных и отражает приемлемость стоимости поздки в System Tray.


## Ценность программы

По личному интересу мне захотелось поработать над простой бытовой задачей с некоторыми утоявшимися API из программ. Помимо этого, данная программа может быть полезна в качестве: 
1. Экономии денег. Мониторинг цен на такси помогает выбрать более дешевый вариант перевозки, сэкономить на транспортных расходах и избежать переплаты.
2. Безопасность. Увеличение стоимости такси может свидетельствовать о росте спроса на услуги такси. Это может быть связано с повышенным спросом на транспорт в связи с конкретным событием или повышенной криминогенной обстановкой в городе. В таких случаях можно решить обратиться к другому виду транспорта, чтобы избежать возможных рисков.
3. Оперативность. Мониторинг цен на такси позволяет быть более гибким и оперативным при планировании поездок и выборе подходящей конкретному моменту услуги перевозки.
4. Удобство. Мониторинг цен на такси является отличным инструментом для планирования поездок, рассчета бюджета, избежания пробок и выбора подходящего по цене и качеству сервиса.
5. Изучение статистики. Данная программа будет хранить данные, которые после можно анализировать. 


## Немного о функциональности

Программа отправляет GET запрос по форме: 
https://taxi-routeinfo.taxi.yandex.net/taxi_info?clid=<clid>&apikey=<apikey>&rll=<lon,lat~lon,lat>&class=<class_str>&req=<req_str>
(Подробнее здесь: https://yandex.ru/dev/taxi/doc/dg/concepts/trip-info.html)

Для определения маршрута поездки используются координаты начала и конца поездки. Для опредения стоимости своей поездки задайте начальную и конечную долготу и широту (в файле getter.c::make_default_url).  

При получении происходит парсинг тела ответа. После полученное значения стоимости сохраняется в Базу данных. 

В качестве  БД используется PostgreSQL. Также, добавлено отображение приемлемой/неприемлимой цены для отображения в трее. Приемлемая цена устанавливается вручную в коде. Путь картинок для отображения нужно настроить вручную. 

## Интеграция с БД

Для первичной настройки БД используйте скрипт:

CREATE DATABASE taxi;
CREATE table taxi_price(
  id serial primary key,
  curr_time timestamp,
  price real
);
